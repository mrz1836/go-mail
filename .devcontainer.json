{
    "customizations": {
        "vscode": {
            "extensions": [
                "golang.Go",
                "github.vscode-github-actions",
                "eamodio.gitlens"
            ],
            "settings": {
                "editor.codeActionsOnSave": {
                    "source.organizeImports": true
                },
                "editor.formatOnSave": true,
                "go.lintTool": "golangci-lint",
                "go.toolsEnvVars": {
                    "GOFLAGS": "-buildvcs=false"
                },
                "go.useLanguageServer": true
            }
        }
    },
    "features": {
        "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {},
        "ghcr.io/devcontainers/features/github-cli:1": {}
    },
    "image": "mcr.microsoft.com/devcontainers/go:0-1.24-bullseye",
    "mounts": [
        "type=cache,target=/home/vscode/.cache/go-build",
        "type=bind,source=/var/run/docker.sock,target=/var/run/docker.sock"
    ],
    "name": "go-mail dev container",
    "postCreateCommand": "magex lint && magex vet && magex test",
    "remoteUser": "vscode",
    "runArgs": [
        "--cap-drop=ALL",
        "--security-opt",
        "no-new-privileges:true"
    ]
}
