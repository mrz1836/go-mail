# ================================================================================================
# üóÑÔ∏è REDIS SERVICE CONFIGURATION (20-redis.env)
# ================================================================================================
#
# Purpose: Redis service container configuration for tests and benchmarks
# Load Order: 20 (integration/service layer, loaded after tools)
#
# This file defines Redis service configuration for repositories that need Redis during testing.
# Configuration includes:
# - Service enable/disable and mode selection
# - Redis Docker image version
# - Connection settings (host, port)
# - Health check configuration
# - Cache configuration
#
# IMPORTANT: This file should only be included in repos that use Redis.
# Most libraries do NOT need this file - only include if your code/tests interact with Redis.
#
# Override in: 90-project.env for project-specific Redis settings
#
# ================================================================================================

# ================================================================================================
# üéõÔ∏è REDIS SERVICE CONTROL
# ================================================================================================

# Enable Redis service container for tests/benchmarks
ENABLE_REDIS_SERVICE=false

# Redis service mode:
# - auto: enabled if redis tests detected (smart detection)
# - always: always start Redis service
# - never: never start Redis service (even if tests exist)
REDIS_SERVICE_MODE=never

# ================================================================================================
# üì¶ REDIS VERSION CONFIGURATION
# ================================================================================================

# Redis Docker image version
# Options: 7-alpine, 6-alpine, latest, or specific version like 7.2-alpine
REDIS_VERSION=7-alpine

# ================================================================================================
# üîå REDIS CONNECTION CONFIGURATION
# ================================================================================================

# Redis host (localhost for GitHub Actions service containers)
REDIS_HOST=localhost

# Redis port (standard: 6379)
REDIS_PORT=6379

# ================================================================================================
# üíö REDIS HEALTH CHECK CONFIGURATION
# ================================================================================================

# Trust GitHub Actions service container health checks
# When true: skip redis-cli verification (faster startup)
# When false: explicitly verify with redis-cli PING (more reliable)
REDIS_TRUST_SERVICE_HEALTH=true

# Health check retry configuration
REDIS_HEALTH_CHECK_RETRIES=10
REDIS_HEALTH_CHECK_INTERVAL=10
REDIS_HEALTH_CHECK_TIMEOUT=5

# ================================================================================================
# üíæ REDIS CACHE CONFIGURATION
# ================================================================================================

# Force pull Redis images even when cached
# Set to true to always get latest patch version
REDIS_CACHE_FORCE_PULL=false
