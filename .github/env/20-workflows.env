# ================================================================================================
# üìÖ GITHUB WORKFLOWS CONFIGURATION (20-workflows.env)
# ================================================================================================
#
# Purpose: GitHub Actions workflow automation configuration
# Load Order: 20 (integration/workflow layer, loaded after tools)
#
# This file defines configuration for GitHub Actions workflow automation including:
# - Stale issue/PR management
# - Label synchronization
# - Dependabot auto-merge settings
# - Auto-merge on approval configuration
# - Pull request management (assignments, labels, welcome messages)
#
# These settings control the automated workflows that manage issues, PRs, and repository hygiene.
#
# Override in: 90-project.env for project-specific workflow settings
#
# ================================================================================================

# ================================================================================================
# üìÖ STALE WORKFLOW CONFIGURATION
# ================================================================================================

# Days before an issue/PR is marked as stale
STALE_DAYS_BEFORE_STALE=60

# Days before a stale issue/PR is automatically closed
STALE_DAYS_BEFORE_CLOSE=14

# Label applied to stale issues/PRs
STALE_LABEL=stale

# Labels that exempt issues from being marked stale
STALE_EXEMPT_ISSUE_LABELS=work-in-progress,security,requires-manual-review

# Labels that exempt PRs from being marked stale
STALE_EXEMPT_PR_LABELS=work-in-progress,security,requires-manual-review

# Maximum number of issues/PRs to process per workflow run
STALE_OPERATIONS_PER_RUN=300

# ================================================================================================
# üè∑Ô∏è SYNC LABELS CONFIGURATION
# ================================================================================================

# Path to labels definition file
SYNC_LABELS_FILE=.github/labels.yml

# ================================================================================================
# ü§ñ DEPENDABOT AUTO-MERGE CONFIGURATION
# ================================================================================================

# Repository maintainer username
DEPENDABOT_MAINTAINER_USERNAME=mrz1836

# Auto-merge patch version updates
DEPENDABOT_AUTO_MERGE_PATCH=true

# Auto-merge minor version updates for dev dependencies
DEPENDABOT_AUTO_MERGE_MINOR_DEV=true

# Auto-merge minor version updates for production dependencies
DEPENDABOT_AUTO_MERGE_MINOR_PROD=true

# Auto-merge patch updates for indirect dependencies
DEPENDABOT_AUTO_MERGE_PATCH_INDIRECT=true

# Auto-merge minor updates for indirect dependencies
DEPENDABOT_AUTO_MERGE_MINOR_INDIRECT=true

# Auto-merge security updates (non-major versions)
DEPENDABOT_AUTO_MERGE_SECURITY_NON_MAJOR=true

# Send alerts for major version updates
DEPENDABOT_ALERT_ON_MAJOR=true

# Send alerts for minor production dependency updates
DEPENDABOT_ALERT_ON_MINOR_PROD=true

# Label for PRs requiring manual review
DEPENDABOT_MANUAL_REVIEW_LABEL=requires-manual-review

# Labels applied to auto-mergeable Dependabot PRs
DEPENDABOT_AUTO_MERGE_LABELS=automerge,dependabot

# ================================================================================================
# ‚úÖ AUTO-MERGE ON APPROVAL CONFIGURATION
# ================================================================================================

# Minimum number of approvals required before auto-merge
AUTO_MERGE_MIN_APPROVALS=1

# Require all requested reviewers to approve before merging
AUTO_MERGE_REQUIRE_ALL_REQUESTED_REVIEWS=true

# Allowed merge types (comma-separated: merge, squash, rebase)
AUTO_MERGE_ALLOWED_MERGE_TYPES=squash

# Delete branch after successful merge
AUTO_MERGE_DELETE_BRANCH=true

# Skip auto-merge for draft PRs
AUTO_MERGE_SKIP_DRAFT=true

# Skip auto-merge for PRs with WIP in title
AUTO_MERGE_SKIP_WIP=true

# Labels that prevent auto-merge
AUTO_MERGE_WIP_LABELS=work-in-progress,wip,do-not-merge,requires-manual-review,security

# Post comment when auto-merge is enabled
AUTO_MERGE_COMMENT_ON_ENABLE=true

# Post comment when auto-merge is disabled
AUTO_MERGE_COMMENT_ON_DISABLE=true

# Labels to add when auto-merge is enabled
AUTO_MERGE_LABELS_TO_ADD=automerge-enabled

# Skip auto-merge for bot-created PRs (except Dependabot)
AUTO_MERGE_SKIP_BOT_PRS=true

# Skip auto-merge for PRs from forks
AUTO_MERGE_SKIP_FORK_PRS=true

# Comment when fork PR auto-merge is skipped
# Note: Fork PRs receive welcome comments from pull-request-management-fork.yml instead
# This setting only affects same-repo PRs (fork PRs use read-only GITHUB_TOKEN)
AUTO_MERGE_COMMENT_ON_FORK_SKIP=true

# Require specific label for auto-merge to be enabled
AUTO_MERGE_REQUIRE_LABEL=true

# Required label for auto-merge
AUTO_MERGE_LABEL=automerge

# ================================================================================================
# üìù PULL REQUEST MANAGEMENT CONFIGURATION
# ================================================================================================

# Default assignee for new PRs
PR_MANAGEMENT_DEFAULT_ASSIGNEE=mrz1836

# Bot users to skip for PR management
PR_MANAGEMENT_SKIP_BOT_USERS=dependabot[bot],mergify[bot],copilot[bot]

# Welcome first-time contributors with a comment
PR_MANAGEMENT_WELCOME_FIRST_TIME=true

# Apply size labels based on PR lines changed
PR_MANAGEMENT_APPLY_SIZE_LABELS=true

# Apply type labels based on PR content
PR_MANAGEMENT_APPLY_TYPE_LABELS=true

# Clean workflow cache when PR is closed
PR_MANAGEMENT_CLEAN_CACHE_ON_CLOSE=true

# Delete branch when PR is merged
PR_MANAGEMENT_DELETE_BRANCH_ON_MERGE=true

# Protected branches (won't be deleted)
PR_MANAGEMENT_PROTECTED_BRANCHES=master,main,development,production

# PR Size Thresholds (lines changed)
PR_MANAGEMENT_SIZE_XS_THRESHOLD=10
PR_MANAGEMENT_SIZE_S_THRESHOLD=50
PR_MANAGEMENT_SIZE_M_THRESHOLD=200
PR_MANAGEMENT_SIZE_L_THRESHOLD=500
